(this.webpackJsonpreact_boilerplate=this.webpackJsonpreact_boilerplate||[]).push([[0],{64:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n(1),a=n(30),s=n.n(a),i=n(3),o=n(12);function u(e){localStorage.setItem("token",JSON.stringify(e))}function l(){return JSON.parse(localStorage.getItem("token"))}var j=n(0),p=function(e){var t=e.isLoggedIn,n=e.setIsLoggedIn;return Object(j.jsxs)("div",{className:"navbar",children:[Object(j.jsx)(o.b,{to:"/Home",children:"Home"}),t?Object(j.jsx)(o.b,{to:"/routines",children:" Routines"}):null,t?Object(j.jsx)(o.b,{to:"/myRoutines",children:" My Routines"}):null,Object(j.jsx)(o.b,{to:"/Activities",children:"Activities"}),t?Object(j.jsx)(o.b,{to:"/logout",children:"Logout"}):Object(j.jsx)(o.b,{to:"/login",children:" Login/Register"}),Object(j.jsxs)("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),n(!1)},children:["Logout"," "]})]})},d=n(2),b=n.n(d),h=n(4),O=n(7),g=n.n(O),v="http://fitnesstrac-kr.herokuapp.com/api";function x(){return f.apply(this,arguments)}function f(){return(f=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(v,"/activities"),{headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(e,t){return w.apply(this,arguments)}function w(){return(w=Object(h.a)(b.a.mark((function e(t,n){var r,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l(),e.prev=1,e.next=4,g.a.post("".concat(v,"/activities"),{name:t,description:n},{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});case 4:return c=e.sent,a=c.data,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function y(e,t){return I.apply(this,arguments)}function I(){return(I=Object(h.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/users/register"),{username:t,password:n});case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("error in api regsiterUser"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function k(e,t){return L.apply(this,arguments)}function L(){return(L=Object(h.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/users/login"),{username:t,password:n});case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var S=function(e){var t=e.setIsLoading,n=e.isLoggedIn,a=e.setIsLoggedIn,s=Object(c.useState)(""),i=Object(r.a)(s,2),o=i[0],l=i[1],p=Object(c.useState)(""),d=Object(r.a)(p,2),O=d[0],g=d[1],v=Object(c.useState)(!1),x=Object(r.a)(v,2),f=x[0],m=x[1];return n&&!f?Object(j.jsx)("div",{className:"register-main-container",children:"You're stilled logged in! Log out before registering as a different user."}):n&&f?Object(j.jsx)("div",{className:"register-main-container",children:"Account registered!"}):Object(j.jsx)("div",{className:"register-main-container",children:Object(j.jsxs)("form",{id:"register",onSubmit:function(){var e=Object(h.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t(!0),e.prev=2,e.next=5,y(o,O);case 5:void 0!==(r=e.sent).user?(u(r.token),a(!0),m(!0)):console.log("register failed: ",r.error.message),l(""),g(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Error on RegisterUser"),console.log(e.t0);case 15:return e.prev=15,t(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(j.jsxs)("fieldset",{className:"auth-component-input",children:[Object(j.jsx)("label",{htmlFor:"username",children:"User Name"}),Object(j.jsx)("input",{id:"username",type:"text",placeholder:"enter username",value:o,onChange:function(e){l(e.target.value)}})]}),Object(j.jsxs)("fieldset",{className:"auth-component-input",children:[Object(j.jsx)("label",{htmlFor:"password",children:"User Password"}),Object(j.jsx)("input",{id:"password",type:"password",placeholder:"enter password",value:O,onChange:function(e){g(e.target.value)}})]}),Object(j.jsx)("button",{children:"Register"})]})})},N=function(e){var t=e.setIsLoading,n=e.setIsLoggedIn;if(e.isLoggedIn)return Object(j.jsx)("div",{className:"auth-component-main-container",children:"You're logged in!"});var a=Object(c.useState)(""),s=Object(r.a)(a,2),i=s[0],l=s[1],p=Object(c.useState)(""),d=Object(r.a)(p,2),O=d[0],g=d[1],v=Object(c.useState)(!1),x=Object(r.a)(v,2),f=x[0],m=x[1];return Object(j.jsxs)("div",{className:"auth-component-main-container",children:[Object(j.jsxs)("form",{id:"login",onSubmit:function(){var e=Object(h.a)(b.a.mark((function e(r){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t(!0),e.prev=2,e.next=5,k(i,O);case 5:void 0!==(c=e.sent).user?(u(c.token),n(!0),m(!1)):console.log("login error: ",c.message),l(""),g(""),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),m(!0),l(""),g("");case 17:return e.prev=17,t(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,11,17,20]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(j.jsxs)("fieldset",{className:"auth-component-input",children:[Object(j.jsx)("label",{htmlFor:"username",children:"User Name"}),Object(j.jsx)("input",{id:"username",type:"text",placeholder:"enter username",value:i,onChange:function(e){l(e.target.value)}})]}),Object(j.jsxs)("fieldset",{className:"auth-component-input",children:[Object(j.jsx)("label",{htmlFor:"password",children:"User Password"}),Object(j.jsx)("input",{id:"password",type:"password",placeholder:"enter password",value:O,onChange:function(e){g(e.target.value)}})]}),f?Object(j.jsx)("div",{className:"auth-component-main-container",children:"Login failed. Username or password incorrect"}):null,Object(j.jsx)("button",{children:"Login"})]}),Object(j.jsx)(o.b,{to:"/register",children:"Don't have an account? Click here."})]})},A=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){x().then((function(e){a(e)}))}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("ul",{children:n.map((function(e){return Object(j.jsx)("li",{children:e.name},e.id)}))})})},C=n(33),U=function(e){var t=e.activities,n=e.setActivities,a=Object(c.useState)(""),s=Object(r.a)(a,2),i=s[0],o=s[1],u=Object(c.useState)(""),l=Object(r.a)(u,2),p=l[0],d=l[1];return Object(j.jsxs)("form",{onSubmit:function(){var e=Object(h.a)(b.a.mark((function e(r){var c,a,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,x();case 4:c=e.sent,a=0;case 6:if(!(a<c.length)){e.next=13;break}if(c[a].name!==i){e.next=10;break}throw new Error("Activity Already Exists");case 10:a++,e.next=6;break;case 13:return e.next=15,m(i,p);case 15:s=e.sent,o=[].concat(Object(C.a)(t),[s]),n(o),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(j.jsx)("h3",{children:"Create a New Activity!"}),Object(j.jsxs)("fieldset",{className:"auth-component-input",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name Your Activity! "}),Object(j.jsx)("input",{id:"name",type:"text",placeholder:"  Activity",value:i,onChange:function(e){o(e.target.value)}})]}),Object(j.jsxs)("fieldset",{className:"auth-component-input",children:[Object(j.jsx)("label",{htmlFor:"description",children:"Tell Us About You Activity!"}),Object(j.jsx)("input",{id:"description",type:"text",placeholder:"  Description",value:p,onChange:function(e){d(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",children:"SUBMIT"})]})},F=function(e){var t=e.isLoggedIn,n=Object(c.useState)([]),a=Object(r.a)(n,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){x().then((function(e){i(e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Activities"}),t?Object(j.jsx)(U,{activities:s,setActivities:i}):null,Object(j.jsx)("ul",{children:s.map((function(e){return Object(j.jsx)("li",{children:e.name},e.id)}))})]})},E=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),o=Object(r.a)(s,2),u=(o[0],o[1]);return Object(j.jsxs)("div",{id:"App",children:[Object(j.jsx)("h1",{children:"Fitness World"}),Object(j.jsx)(p,{setIsLoggedIn:a,isLoggedIn:n}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/register",children:Object(j.jsx)(S,{isLoggedIn:n,setIsLoading:u,setIsLoggedIn:a})}),Object(j.jsx)(i.a,{path:"/login",children:Object(j.jsx)(N,{setIsLoading:u,setIsLoggedIn:a,isLoggedIn:n})}),Object(j.jsx)(i.a,{path:"/Activities",children:Object(j.jsx)(F,{isLoggedIn:n})}),Object(j.jsx)(i.a,{path:"/",children:Object(j.jsx)(A,{})})]})]})};s.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(E,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.65cc5411.chunk.js.map